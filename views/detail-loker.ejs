<!DOCTYPE html>
<html lang="id">
<head>
    <%- include('partials/header') %>
</head>
<body class="background-section">
    <!-- Loading Spinner -->
    <div id="loader-wrapper">
        <div id="loader"></div>
    </div>
    <!-- Scroll Progress Bar -->
    <div id="scroll-progress-container">
        <div id="scroll-progress-bar"></div>
    </div>

<%- include('partials/navbar') %>

<main class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-sm rounded-4">
            <div class="card-body p-4">
                <div class="d-flex flex-column flex-md-row justify-content-between align-items-start mb-3">
                    <div>
                        <h3 class="fw-bold mb-1">Frontend Developer</h3>
                        <p class="text-muted mb-0"><i class="fas fa-building me-2"></i>PT Teknologi Maju</p>
                        <p class="text-muted"><i class="fas fa-map-marker-alt me-2"></i>Jakarta Selatan</p>
                    </div>                    
                </div>
                <div class="mb-4">
                    <h6 class="text-uppercase text-muted">Detail Pekerjaan</h6>
                    <ul class="list-unstyled mb-0">
                        <li><i class="fas fa-briefcase me-2 text-secondary"></i><strong>Jenis Pekerjaan:</strong> Full-time</li>
                        <li><i class="fas fa-user-clock me-2 text-secondary"></i><strong>Pengalaman:</strong> 1-3 tahun</li>
                        <li><i class="fas fa-money-bill-wave me-2 text-secondary"></i><strong>Gaji:</strong> Rp 8 - 12 juta/bulan</li>
                        <li><i class="fas fa-clock me-2 text-secondary"></i><strong>Diposting:</strong> 3 hari yang lalu</li>
                    </ul>
                </div>
                <div class="mb-4">
                    <h6 class="text-uppercase text-muted">Deskripsi Pekerjaan</h6>
                    <ul>
                        <li>Mengembangkan antarmuka pengguna berbasis web</li>
                        <li>Bekerja sama dengan tim backend dan UI/UX</li>
                        <li>Melakukan testing dan debugging aplikasi</li>
                    </ul>
                </div>
                <div class="mb-4">
                    <h6 class="text-uppercase text-muted">Kualifikasi</h6>
                    <ul>
                        <li>Minimal pengalaman 1 tahun sebagai Frontend Developer</li>
                        <li>Menguasai HTML, CSS, JavaScript (bonus: React/Vue)</li>
                        <li>Memahami prinsip responsive dan cross-browser</li>
                    </ul>
                </div>
                <div class="d-flex justify-content-end mt-4">
                    <a href="/" class="btn btn-outline-custom">
                        <i class="fas fa-arrow-left me-2"></i>Kembali ke Beranda
                    </a>
                    <a href="/signup" class="btn btn-primary-custom ms-3" id="btnLamar">
                        <i class="fas fa-paper-plane me-2"></i>Lamar Sekarang
                    </a>
                </div>  
            </div>
            </div>
        </div>
    </div>
</main>
  

<!-- Tombol Back to Top -->
<button id="backToTop" title="Kembali ke atas">
    <i class="fas fa-chevron-up"></i>
</button>
  
<script>
    // Tombol Back to Top
    const backToTopBtn = document.getElementById('backToTop');
    window.addEventListener('scroll', function() {
        if (window.scrollY > 100) {
            backToTopBtn.style.display = 'flex';
        } else {
            backToTopBtn.style.display = 'none';
        }
    });
    backToTopBtn.addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    // Loading Pencarian
    function showLoadingButton(e) {
        e.preventDefault();
        const btn = e.target.querySelector('button[type=submit]');
        btn.disabled = true;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>';
        setTimeout(() => e.target.submit(), 1000);
    }

    // Tombol Lamar
    document.getElementById('btnLamar').addEventListener('click', function (e) {
        e.preventDefault();
        const token = localStorage.getItem('token');

        Swal.fire({
            icon: 'info',
            title: 'Login Diperlukan',
            text: 'Silakan login atau daftar terlebih dahulu untuk melamar pekerjaan.',
            showCancelButton: true,
            confirmButtonText: 'Daftar',
            cancelButtonText: 'Tutup'
        }).then((result) => {
            if (result.isConfirmed) {
            window.location.href = '/signup';
            }
        });
    });

    // Fungsi logout
    function logout() {
        Swal.fire({
            icon: 'question',
            title: 'Konfirmasi Logout',
            text: 'Anda yakin ingin keluar dari akun?',
            showCancelButton: true,
            confirmButtonText: 'Ya, keluar',
            cancelButtonText: 'Batal'
        }).then((result) => {
            if (result.isConfirmed) {
            localStorage.removeItem('token');
            Swal.fire({
                icon: 'success',
                title: 'Logout Berhasil',
                text: 'Anda telah keluar dari akun.',
                timer: 1500,
                showConfirmButton: false
            }).then(() => {
                window.location.href = '/';
            });
            }
        });
    }

</script>

<%- include('partials/footer') %>

</body>
</html>